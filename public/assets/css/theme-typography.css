/* ============================================================
   Persian Typography & UI Theme
   Font: Vazirmatn (Variable + Static Fallbacks)
   Direction: RTL
   Author: Copilot (Customized for project)
   Version: 1.0
   ============================================================ */

/* ------------- Font Faces ------------- */
/* Variable font (preferred) */
@font-face {
  font-family: 'VazirmatnVF';
  src: url('../fonts/Vazirmatn[wght].woff2') format('woff2-variations');
  font-weight: 100 900;
  font-display: swap;
  font-style: normal;
}

/* Static fallbacks (only key weights to reduce HTTP requests) */
@font-face {
  font-family: 'Vazirmatn';
  src: url('../fonts/Vazirmatn-Regular.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'Vazirmatn';
  src: url('../fonts/Vazirmatn-Medium.woff2') format('woff2');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'Vazirmatn';
  src: url('../fonts/Vazirmatn-SemiBold.woff2') format('woff2');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'Vazirmatn';
  src: url('../fonts/Vazirmatn-Bold.woff2') format('woff2');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

/* If browser supports variable fonts use it via feature detection class (.vf-on) */
html.vf-on {
  --font-base: 'VazirmatnVF', 'Vazirmatn', Tahoma, Arial, sans-serif;
}
html:not(.vf-on) {
  --font-base: 'Vazirmatn', Tahoma, Arial, sans-serif;
}

/* ------------- Color Scheme & Elevation ------------- */
:root {
  color-scheme: light dark;
  --color-bg: #f7f9fb;
  --color-surface: #ffffff;
  --color-surface-alt: #f0f4f8;
  --color-border: #d8e1ea;
  --color-border-strong: #b8c4d2;
  --color-text: #1f2733;
  --color-text-soft: #4b5b6d;
  --color-text-faint: #7a8895;
  --color-primary: #0057d8;
  --color-primary-accent: #1d77ff;
  --color-primary-rgba: 0,87,216;
  --color-accent: #0d9488;
  --color-danger: #dc2626;
  --color-warning: #d97706;
  --color-success: #059669;
  --grad-heading: linear-gradient(90deg,#0057d8,#0d9488);
  --radius-xs: 4px;
  --radius-sm: 6px;
  --radius-md: 10px;
  --radius-lg: 18px;

  --shadow-xs: 0 1px 2px rgba(0,0,0,.06);
  --shadow-sm: 0 2px 4px rgba(0,0,0,.08);
  --shadow-md: 0 4px 12px -2px rgba(0,0,0,.10);
  --shadow-focus: 0 0 0 3px rgba(var(--color-primary-rgba),.25);

  --font-weight-thin: 100;
  --font-weight-extralight: 200;
  --font-weight-light: 300;
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  --font-weight-extrabold: 800;
  --font-weight-black: 900;

  --lh-tight: 1.15;
  --lh-default: 1.45;
  --lh-relaxed: 1.65;

  --tracking-tight: -0.015em;
  --tracking-normal: 0;
  --tracking-wide: 0.02em;
}

/* Dark Mode (auto or manual by adding .dark class to <html>) */
@media (prefers-color-scheme: dark) {
  :root:not(.force-light) {
    --color-bg: #12161c;
    --color-surface: #1c2430;
    --color-surface-alt: #253040;
    --color-border: #2f3d4e;
    --color-border-strong: #415266;
    --color-text: #e6edf4;
    --color-text-soft: #b2bfcc;
    --color-text-faint: #7d8995;
    --grad-heading: linear-gradient(90deg,#4fa2ff,#27d8c1);
    --shadow-xs: 0 1px 2px rgba(0,0,0,.5);
    --shadow-sm: 0 2px 4px rgba(0,0,0,.55);
    --shadow-md: 0 4px 14px -2px rgba(0,0,0,.6);
  }
}

/* ------------- Base Resets ------------- */
html, body {
  margin: 0;
  padding: 0;
  font-family: var(--font-base);
  font-weight: var(--font-weight-regular);
  background: var(--color-bg);
  color: var(--color-text);
  direction: rtl;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

::selection {
  background: rgba(var(--color-primary-rgba), .25);
}

body {
  font-size: 15px;
  line-height: var(--lh-default);
}

/* ------------- Typography Scale ------------- */
/* Display (Hero) */
.display-xxl {
  font-weight: var(--font-weight-bold);
  font-size: clamp(40px, 7vw, 64px);
  line-height: 1.05;
  letter-spacing: var(--tracking-tight);
  background: var(--grad-heading);
  -webkit-background-clip: text;
  color: transparent;
  margin: 0 0 .4em;
}
.display-xl {
  font-weight: var(--font-weight-extrabold);
  font-size: clamp(34px, 6vw, 56px);
  line-height: 1.08;
  letter-spacing: var(--tracking-tight);
  margin: 0 0 .6em;
}

/* Headings */
h1, .h1 {
  font-size: clamp(30px,5vw,44px);
  font-weight: var(--font-weight-bold);
  line-height: 1.12;
  letter-spacing: var(--tracking-tight);
  margin: 0 0 .5em;
}
h2, .h2 {
  font-size: clamp(24px,3.5vw,32px);
  font-weight: var(--font-weight-semibold);
  line-height: 1.18;
  margin: 1.5em 0 .6em;
}
h3, .h3 {
  font-size: clamp(20px,2.8vw,26px);
  font-weight: var(--font-weight-semibold);
  margin: 1.3em 0 .5em;
}
h4, .h4 {
  font-size: 20px;
  font-weight: var(--font-weight-medium);
  margin: 1.1em 0 .5em;
}
h5, .h5 {
  font-size: 17px;
  font-weight: var(--font-weight-medium);
  margin: 1em 0 .4em;
  color: var(--color-text-soft);
}
h6, .h6 {
  font-size: 15px;
  font-weight: var(--font-weight-medium);
  margin: .8em 0 .4em;
  text-transform: uppercase;
  letter-spacing: .08em;
  color: var(--color-text-faint);
}

/* Subtitles & Lead */
.lead {
  font-size: 18px;
  font-weight: var(--font-weight-medium);
  line-height: var(--lh-relaxed);
  color: var(--color-text-soft);
  margin: 0 0 1.2em;
}
.subtitle {
  font-size: 16px;
  font-weight: var(--font-weight-medium);
  color: var(--color-text-soft);
  margin: 0 0 .8em;
}

/* Body text variants */
.body-lg { font-size: 16px; line-height: var(--lh-relaxed); }
.body    { font-size: 15px; }
.body-sm { font-size: 13px; line-height: 1.55; }
.caption { font-size: 12px; color: var(--color-text-faint); line-height: 1.4; }
.overline {
  font-size: 11px;
  letter-spacing: .12em;
  font-weight: var(--font-weight-medium);
  text-transform: uppercase;
  color: var(--color-text-faint);
}

/* Lists */
ul.typed, ol.typed {
  margin: 0 0 1.3em;
  padding-inline-start: 1.4em;
  line-height: var(--lh-relaxed);
}
ul.typed li { margin: .35em 0; }
ol.typed li { margin: .4em 0; padding-inline-start: .15em; }

/* Code / Mono emphasis (still in Persian UI) */
code, pre, kbd {
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Courier New", monospace;
  font-size: .9em;
  background: var(--color-surface-alt);
  padding: 2px 6px;
  border-radius: var(--radius-xs);
  direction: ltr;
}
pre {
  padding: 12px 14px;
  overflow-x: auto;
  box-shadow: var(--shadow-xs);
}

/* Links */
a {
  color: var(--color-primary);
  text-decoration: none;
  position: relative;
  transition: color .18s;
}
a:hover {
  color: var(--color-primary-accent);
}
a.inline-underline:after {
  content:'';
  position:absolute;
  inset-inline:0;
  bottom:-2px;
  height:2px;
  background: var(--grad-heading);
  transform:scaleX(0);
  transform-origin: right;
  transition:transform .3s;
}
a.inline-underline:hover:after { transform:scaleX(1); }

/* Block quote */
blockquote {
  margin: 1.4em 0;
  padding: 14px 18px;
  border-inline-start: 4px solid var(--color-primary);
  background: var(--color-surface-alt);
  border-radius: var(--radius-sm);
  color: var(--color-text-soft);
  font-size: 15px;
}

/* ------------- Components ------------- */
.surface {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: 24px 26px;
  box-shadow: var(--shadow-sm);
  margin-bottom: 26px;
}

.surface-alt {
  background: var(--color-surface-alt);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: 18px 20px;
}

.badge {
  display:inline-flex;
  align-items:center;
  font-size:11px;
  font-weight:var(--font-weight-medium);
  padding:4px 8px 3px;
  border-radius:999px;
  background:rgba(var(--color-primary-rgba),.08);
  color:var(--color-primary);
  letter-spacing:.03em;
}
.badge.badge-accent { background:rgba(13,148,136,.12); color:#0d9488; }
.badge.badge-danger { background:rgba(220,38,38,.12); color:#dc2626; }
.badge.badge-warning{ background:rgba(217,119,6,.18); color:#b45309; }
.badge.badge-success{ background:rgba(5,150,105,.15); color:#047857; }

.divider {
  height:1px;
  background:linear-gradient(90deg,transparent,var(--color-border),transparent);
  margin: 28px 0;
  border:none;
}

/* Tables Quick Enhancement */
.table-clean {
  width:100%;
  border-collapse:collapse;
  font-size:14px;
}
.table-clean th, .table-clean td {
  padding:8px 10px;
  border-bottom:1px solid var(--color-border);
  text-align:right;
}
.table-clean th {
  background: var(--color-surface-alt);
  font-weight: var(--font-weight-medium);
  font-size:13px;
}
.table-clean tbody tr:hover {
  background: rgba(var(--color-primary-rgba),.045);
}

/* ------------- Utilities ------------- */
.w-thin { font-weight: var(--font-weight-thin); }
.w-extralight { font-weight: var(--font-weight-extralight); }
.w-light { font-weight: var(--font-weight-light); }
.w-regular { font-weight: var(--font-weight-regular); }
.w-medium { font-weight: var(--font-weight-medium); }
.w-semibold { font-weight: var(--font-weight-semibold); }
.w-bold { font-weight: var(--font-weight-bold); }
.w-extrabold { font-weight: var(--font-weight-extrabold); }
.w-black { font-weight: var(--font-weight-black); }

.text-soft  { color: var(--color-text-soft); }
.text-faint { color: var(--color-text-faint); }
.text-danger{ color: var(--color-danger); }
.text-accent{ color: var(--color-accent); }
.text-success{ color: var(--color-success); }

.lh-tight { line-height: var(--lh-tight); }
.lh-relaxed { line-height: var(--lh-relaxed); }

.gradient-text {
  background: var(--grad-heading);
  -webkit-background-clip:text;
  color:transparent;
}

.max-readable { max-width: 68ch; }
.center-block { margin-inline:auto; }

.shadow-focus:focus {
  outline:none;
  box-shadow: var(--shadow-focus);
}

/* Buttons (if needed) */
.btn {
  font-family: inherit;
  font-weight: var(--font-weight-medium);
  font-size: 14px;
  border-radius: var(--radius-sm);
  padding: 10px 18px;
  cursor: pointer;
  border: 1px solid transparent;
  background: var(--color-primary);
  color: #fff;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  transition: background .25s, transform .15s;
}
.btn:hover { background: var(--color-primary-accent); }
.btn:active { transform: translateY(1px); }
.btn.outline {
  background: transparent;
  color: var(--color-primary);
  border-color: var(--color-primary);
}
.btn.outline:hover {
  background: rgba(var(--color-primary-rgba),.07);
}

/* Footer */
.site-footer {
  text-align: center;
  font-size: 12px;
  color: var(--color-text-faint);
  padding: 36px 10px 50px;
  line-height: 1.7;
}

/* ------------- Progressive Enhancement: Variable Font Class ------------- */
@supports (font-variation-settings: normal) {
  html { font-family: var(--font-base); }
  .vf-weight-600 { font-variation-settings: "wght" 600; }
  .vf-weight-500 { font-variation-settings: "wght" 500; }
  .vf-weight-300 { font-variation-settings: "wght" 300; }
  .vf-weight-700 { font-variation-settings: "wght" 700; }
}

/* ------------- Responsive Tweaks ------------- */
@media (max-width: 680px) {
  .display-xxl { font-size: clamp(34px,10vw,52px); }
  h1, .h1 { font-size: clamp(26px,7vw,38px); }
  .surface { padding: 20px 18px; }
}

/* Scroll Behavior */
html { scroll-behavior: smooth; }

/* End of Theme */